<ion-modal-view>

    <ion-header-bar class="bar bar-header bar-positive  bgc-indigo-500">

        <div class="buttons">
            <button class="btn btn--l btn--icon" ng-click="closeNew()">
                <i class="mdi mdi-keyboard-backspace"></i>
            </button>
        </div>

        <h1 class="title">New Alarm</h1>

        <div class="buttons">
            <button class="btn btn--m btn--icon"
                    ng-click="doneNew(newTrigger)">
                <i class="mdi mdi-plus"></i>
            </button>
        </div>

    </ion-header-bar>

    <ion-content class="bgc-grey-800">

        <form class="pl+ pr+">

            <lx-text-field label="Name" theme="dark">
                <input type="text" ng-model="newTrigger.name">
            </lx-text-field>

            <lx-text-field label="Threshold" theme="dark">
                <input type="text" ng-model="newTrigger.threshold_value">
            </lx-text-field>


            <ul class="list bgc-grey-800">

                <li class="item item-select"
                    style="background-color: transparent; border-width: 0px;padding-left: 0px;">
                    <div class="input-label" style="font-size: 14px;color: white;">
                        Evaluator
                    </div>
                    <select ng-model="newTrigger.trigger_type" ng-options="o as o for o in operators"
                            style="background-color: transparent;color: white;">
                    </select>
                </li>

                <li>
                    <div class="divider divider--light"></div>
                </li>

                <li class="item item-select"
                    style="background-color: transparent; border-width: 0px;padding-left: 0px;">
                    <div class="input-label display-block" style="font-size: 14px; color: white;">
                        Resolution
                    </div>
                    <select ng-model="newTrigger.resolution" style="background-color: transparent;color: white;">
                        <option>min</option>
                        <option>hour</option>
                        <option>day</option>
                    </select>
                </li>

                <li>
                    <div class="divider divider--light"></div>
                </li>

                <li class="list-row pr0 pl0 mt+ mb+">

                    <div class="list-row__content tc-grey-200">
                        <span class="display-block">Alarm Http Requests</span>
                    </div>

                    <div class="list-row__secondary tc-grey-100" style="padding-right: 10px;">
                        <button class="btn btn--xs btn--blue btn--fab" lx-ripple>
                            <i class="mdi mdi-plus" ng-click="addRequest()"></i>
                        </button>
                    </div>
                </li>

                <li>
                    <div class="divider divider--light"></div>
                </li>

                <li>
                    <div class="divider divider--light"></div>
                </li>

                <li class="list-row pr0 pl0" ng-repeat="request in newTrigger.requests">

                    <div class="list-row__primary">
                        <i class="icon icon--s icon--teal icon--flat mdi mdi-bell"></i>
                    </div>


                    <div class="list-row__content  tc-grey-200">
                        <span class="display-block">{{::request.name}}</span>
                    </div>

                    <div class="list-row__secondary tc-grey-200">
                        <lx-dropdown position="right" from-top>
                            <button class="btn btn--l btn--icon" lx-ripple lx-dropdown-toggle>
                                <i class="mdi mdi-dots-vertical"></i>
                            </button>
                            <lx-dropdown-menu>
                                <ul>
                                    <li><a class="dropdown-link" ng-click="removeRequest(request)">Remove</a>
                                    </li>
                                    <li><a class="dropdown-link" ng-click="editRequest(request)">Edit</a>
                                    </li>
                                </ul>
                            </lx-dropdown-menu>
                        </lx-dropdown>
                    </div>
                </li>

                <li>
                    <div class="divider divider--light"></div>
                </li>

            </ul>
        </form>

    </ion-content>

</ion-modal-view>

